<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script src="./source/jquery-3.5.1.min.js"></script>
  <script>

    fetch('https://kktix.com/events.json')
    // 處理回來的資料，傳成json
     .then(response =>{
       return response.json()
     })
    //  處理json
     .then((json)=>{
       console.log(json.title);
     })
    //  失敗時
    //  失敗包含請求回應 2XX 以外的狀及上面語法錯誤
     .catch(error=>{
       console.log(error)
     })
    //  最後一定會跑
     .finally(()=>{
       console.log('完成');
     })

    //  *******************************************

    fetch('https://jsonplaceholder.typicode.com/posts', {
      method: 'POST',
      body: JSON.stringify({
        title: "aaa",
        body: "asdksdfljslgjsldgsdgsdklgjsdgsdf",
        userId: 123
      }),
      headers: {
        'Content-type': 'application/json'
      }
    })
      // 處理回來的資料，傳成 JSON
      .then(response =>{
        return response.json()
      })
      // 處理 JSON
      .then(json => {
        console.log(json.title)
      })
      // 失敗時會執行
      // 失敗包含請求回應 2XX 以外的狀態碼及上面的語法錯誤
      .catch(error => {
        console.log(error)
        console.log('錯誤')
      })
      // 最後一定會跑
      .finally(() => {
        console.log('完成')
      })
    
  </script>
</body>
</html>